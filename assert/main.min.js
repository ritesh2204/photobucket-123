function PageTransition() { anime({ targets: ".ms-preloader", opacity: [1, 0], duration: 1e3, easing: "easeInOutCubic", complete: function (e) { $(".ms-preloader").css("visibility", "hidden") } }); $(".ms-main-container").addClass("loaded"); anime({ targets: ".loaded", opacity: [0, 1], easing: "easeInOutCubic", duration: 1e3, delay: 300, complete: function (e) { $(".ug-thumb-image").css({ opacity: "1" }), $(".ms-section__block img").css({ opacity: "1" }), $(".ug-thumb-wrapper, .post-item").css({ "pointer-events": "auto" }) } }); $(document).on("click", '[data-type="page-transition"]', function (e) { if ("#" != (t = $(this).attr("href")) && "" != t) { e.preventDefault(), $(".ms-preloader").css("visibility", "visible"); var t = $(this).attr("href"); anime({ targets: ".ms-preloader", opacity: [0, 1], duration: 300, easing: "easeInOutQuad", complete: function (e) { window.location.href = t } }) } }) } function Menu() { $.exists(".hamburger") && ($(".hamburger").on("click", function (e) { var t = $(this); $(t).toggleClass("is-active"), $(".ms-nav").toggleClass("is-visible"), $(".ms-header").not(".navbar-white").each(function () { $(".logo-light").toggleClass("active") }) }), $(".height-full-viewport").on({ mousewheel: function (e) { "el" !== e.target.id && (e.preventDefault(), e.stopPropagation()) } })) } function ms_home_slider() { if ($.exists(".swiper-container")) { var e = new Swiper(".swiper-container", { loop: !1, speed: 1e3, grabCursor: !1, mousewheel: !0, keyboard: !0, simulateTouch: !1, parallax: !0, effect: "slide", pagination: { el: ".swiper-pagination", type: "progressbar" }, navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" } }); $(".expanded-timeline__counter span:first-child").text("1"), $(".expanded-timeline__counter span:last-child").text(e.slides.length), e.on("slideChange", function () { $(".expanded-timeline__counter span:first-child").text(e.activeIndex + 1) }) } } function Sort() { $.exists(".filtr-container") && ($(".filtr-container").filterizr(), $(".filtr-btn li").on("click", function () { $(".filtr-btn li").removeClass("active"), $(this).addClass("active") })) } function UniteGallery() { $.exists("#gallery") && $("#gallery").unitegallery({ gallery_theme: "tiles", tiles_type: "justified", tiles_col_width: 400, tiles_justified_row_height: 400, tiles_justified_space_between: 30, tile_overlay_opacity: .7, tile_enable_icons: !1, tile_textpanel_position: "inside_bottom" }) } function ValidForm() { $.exists("#validForm") && ($(".form-control").focus(function () { $(this).prev(".control-label").addClass("active") }), $(".form-control").focusout(function () { $(this).prev(".control-label").removeClass("active") }), $("#validForm").validate({ ignore: ":hidden", rules: { name: { required: !0, minlength: 2, maxlength: 16 }, email: { required: !0, email: !0 }, subject: { required: !0, minlength: 4, maxlength: 32 }, message: { required: !0, minlength: 16 } }, messages: { name: { required: "<span>Please enter your name</span>", minlength: "<span>Your name must consist of at least 2 characters</span>", maxlength: "<span>The maximum number of characters - 24</span>" }, email: { required: "<span>Please enter your email</span>", email: "<span>Please enter a valid email address.</span>" }, subject: { required: "<span>Please enter your subject</span>", minlength: "<span>Your name must consist of at least 2 characters</span>", maxlength: "<span>The maximum number of characters - 16</span>" }, message: { required: "<span>Please write me message</span>", minlength: "<span>Your message must consist of at least 16 characters</span>", maxlength: "<span>The maximum number of characters - 100 </span>" } }, submitHandler: function (e) { return $.ajax({ type: "POST", url: "contact.php", data: $(e).serialize(), beforeSend: function () { }, success: function (e) { $("input, textarea").val(""), $(".form-group").blur() } }), !1 } })) } !function (e) { "use strict"; $.exists = function (e) { return $(e).length > 0 }, e.onpageshow = function (e) { e.persisted && PageTransition() }, PageTransition(), Menu(), ms_home_slider(), Sort(), UniteGallery(), ValidForm() }(window);